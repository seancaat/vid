{"remainingRequest":"/Users/catangui/Documents/GitHub/er-resistance/node_modules/babel-loader/lib/index.js!/Users/catangui/Documents/GitHub/er-resistance/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/catangui/Documents/GitHub/er-resistance/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/catangui/Documents/GitHub/er-resistance/src/views/Research.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/catangui/Documents/GitHub/er-resistance/src/views/Research.vue","mtime":1612241572376},{"path":"/Users/catangui/Documents/GitHub/er-resistance/node_modules/cache-loader/dist/cjs.js","mtime":1607551081144},{"path":"/Users/catangui/Documents/GitHub/er-resistance/node_modules/babel-loader/lib/index.js","mtime":1607551081139},{"path":"/Users/catangui/Documents/GitHub/er-resistance/node_modules/cache-loader/dist/cjs.js","mtime":1607551081144},{"path":"/Users/catangui/Documents/GitHub/er-resistance/node_modules/vue-loader/lib/index.js","mtime":1607551087951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5kYXRlLm5vdyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmRhdGUudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBNb2RhbCBmcm9tICJAL2NvbXBvbmVudHMvTW9kYWwudnVlIjsKaW1wb3J0IENTIGZyb20gIi4uL2NvcHkvc3VydmV5Lmpzb24iOwppbXBvcnQgQWlydGFibGUgZnJvbSAiYWlydGFibGUiOwp2YXIgYmFzZSA9IG5ldyBBaXJ0YWJsZSh7CiAgYXBpS2V5OiBwcm9jZXNzLmVudi5WVUVfQVBQX0FJUlRBQkxFX0FQSV9LRVkKfSkuYmFzZSgnYXBwdEtUSm9WbWlYNzFlVDUnKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJSZXNlYXJjaCIsCiAgbWV0YUluZm86IHsKICAgIHRpdGxlOiAnUmVzZWFyY2gnCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VydmV5OiBDUywKICAgICAgc3VibWl0dGVkOiBmYWxzZSwKICAgICAgc2hvd01vZGFsOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgTW9kYWw6IE1vZGFsCiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgICB0aGlzLnNob3dNb2RhbCA9IGZhbHNlOwogICAgfSwKICAgIHN1Ym1pdFN1cnZleTogZnVuY3Rpb24gc3VibWl0U3VydmV5KCkgewogICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgIGJhc2UoJ1N1cnZleSBSZXN1bHRzJykuY3JlYXRlKFt7CiAgICAgICAgImZpZWxkcyI6IHsKICAgICAgICAgICJTdWJtaXNzaW9uIElEIjogRGF0ZS5ub3coKSwKICAgICAgICAgICJRdWVzdGlvbjEiOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYVtkYXRhLWluZGV4PSIwIl0nKS52YWx1ZSwKICAgICAgICAgICJRdWVzdGlvbjIiOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYVtkYXRhLWluZGV4PSIxIl0nKS52YWx1ZSwKICAgICAgICAgICJRdWVzdGlvbjMiOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYVtkYXRhLWluZGV4PSIyIl0nKS52YWx1ZSwKICAgICAgICAgICJRdWVzdGlvbjQiOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYVtkYXRhLWluZGV4PSIzIl0nKS52YWx1ZSwKICAgICAgICAgICJRdWVzdGlvbjUiOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYVtkYXRhLWluZGV4PSI0Il0nKS52YWx1ZSwKICAgICAgICAgICJRdWVzdGlvbjYiOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYVtkYXRhLWluZGV4PSI1Il0nKS52YWx1ZQogICAgICAgIH0KICAgICAgfV0sIGZ1bmN0aW9uIChlcnIsIHJlY29yZHMpIHsKICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICByZWNvcmRzLmZvckVhY2goZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVjb3JkLmdldElkKCkpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Research.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,OAAA,KAAA,MAAA,wBAAA;AACA,OAAA,EAAA,MAAA,qBAAA;AACA,OAAA,QAAA,MAAA,UAAA;AAGA,IAAA,IAAA,GAAA,IAAA,QAAA,CACA;AACA,EAAA,MAAA,EAAA,OAAA,CAAA,GAAA,CAAA;AADA,CADA,EAIA,IAJA,CAIA,mBAJA,CAAA;AAMA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,QAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA;AAHA,KAAA;AAKA,GAXA;AAYA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAZA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,KAHA;AAIA,IAAA,YAJA,0BAIA;AACA,WAAA,SAAA,GAAA,IAAA;AACA,MAAA,IAAA,CAAA,gBAAA,CAAA,CAAA,MAAA,CAAA,CACA;AACA,kBAAA;AACA,2BAAA,IAAA,CAAA,GAAA,EADA;AAEA,uBAAA,QAAA,CAAA,aAAA,CAAA,0BAAA,EAAA,KAFA;AAGA,uBAAA,QAAA,CAAA,aAAA,CAAA,0BAAA,EAAA,KAHA;AAIA,uBAAA,QAAA,CAAA,aAAA,CAAA,0BAAA,EAAA,KAJA;AAKA,uBAAA,QAAA,CAAA,aAAA,CAAA,0BAAA,EAAA,KALA;AAMA,uBAAA,QAAA,CAAA,aAAA,CAAA,0BAAA,EAAA,KANA;AAOA,uBAAA,QAAA,CAAA,aAAA,CAAA,0BAAA,EAAA;AAPA;AADA,OADA,CAAA,EAYA,UAAA,GAAA,EAAA,OAAA,EAAA;AACA,YAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,GAAA;AACA;AACA;;AACA,QAAA,OAAA,CAAA,OAAA,CAAA,UAAA,MAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,KAAA,EAAA;AACA,SAFA;AAGA,OApBA;AAqBA;AA3BA;AAfA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <Modal v-if=\"showModal\" @close=\"closeModal\" />\n    <main>\n      <form action=\"\" v-if=\"!submitted\" id=\"survey\">\n        <p class=\"intro\"> {{ survey.intro }} </p>\n        <hr>\n        <p v-for=\"(question, index) in survey.questions\" v-bind:key=\"index\">\n          <label> {{ question.text }}</label>\n          <textarea :data-index=index form=\"survey\" rows=\"10\" placeholder=\"Add my perspective...\"></textarea>\n        </p>\n        <input type=\"submit\" value=\"Submit\" class=\"button\" @click=\"submitSurvey\">\n      </form>\n\n      <div v-if=\"submitted\" class=\"finished-game\">\n        <h3>{{ survey.thankYou }}</h3>\n        <img src=\"../assets/images/thumbs-up.gif\">\n        <p>SHARE!</p>\n        <ul>\n          <li>Twitter</li>\n          <li>Facebook</li>\n          <li>Email</li>\n        </ul>\n        <router-link to=\"menu\" class=\"button\">\n          Back to main screen\n        </router-link>\n      </div>\n    </main> \n  </div>\n</template>\n\n<script>\nimport Modal from \"@/components/Modal.vue\";\nimport CS from \"../copy/survey.json\";\nimport Airtable from \"airtable\";\n\n\nconst base = new Airtable(\n  {\n    apiKey: process.env.VUE_APP_AIRTABLE_API_KEY\n  }\n ).base('apptKTJoVmiX71eT5');\n\nexport default {\n  name: \"Research\",\n  metaInfo: {\n    title: 'Research'\n  },\n  data() {\n    return {\n      survey: CS,\n      submitted: false,\n      showModal: true,\n    }\n  },\n  components: {\n    Modal\n  },\n  methods: {\n    closeModal() {\n      this.showModal = false;\n    },\n    submitSurvey() {\n      this.submitted = true;\n      base('Survey Results').create([\n        {\n          \"fields\": {\n            \"Submission ID\": Date.now(),\n            \"Question1\": document.querySelector('textarea[data-index=\"0\"]').value,\n            \"Question2\": document.querySelector('textarea[data-index=\"1\"]').value,\n            \"Question3\": document.querySelector('textarea[data-index=\"2\"]').value,\n            \"Question4\": document.querySelector('textarea[data-index=\"3\"]').value,\n            \"Question5\": document.querySelector('textarea[data-index=\"4\"]').value,\n            \"Question6\": document.querySelector('textarea[data-index=\"5\"]').value\n          }\n        }\n      ], function(err, records) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        records.forEach(function (record) {\n          console.log(record.getId());\n        });\n      });\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n  main {\n    margin-top: 5rem;\n    max-width: 70%;\n    margin-left: auto;\n    margin-right: auto;\n\n    form {\n      padding-bottom: 5rem;\n      position: relative;\n\n      hr {\n        border: 1px solid black;\n        margin: 2rem auto;\n      }\n      label {\n        display: block;\n        margin-bottom: 2em;\n      }\n      textarea {\n        display: block;\n        width: 100%;\n        margin-bottom: 4em;\n        border: 2px solid black;\n        background: $yellow;\n        padding: 0.75em 1em;\n        font-family: inherit;\n        color: $gray-1;\n      }\n      button {\n        &:hover {\n          cursor: pointer;\n        }\n      }\n    }\n\n    .finished-game {\n      // background: $yellow;\n      text-align: center;\n      padding: 1em 3em 3em;\n      border-radius: $br-m;\n      // border: 2px solid black;\n      z-index: 1;\n\n      h3 {\n        text-align: left;\n        font-size: 1rem;\n        line-height: 1.7em;\n      }\n\n      img {\n        max-height: 20vh;\n        padding: 2em;\n        border-bottom: 3px solid black;\n      }\n\n      ul {\n        margin-top: 0;\n        padding: 0;\n\n        li {\n          display: inline-block;\n          font-size: 0.25em;\n          padding: 2rem;\n        }\n      }\n    }\n  } \n</style>\n"],"sourceRoot":"src/views"}]}