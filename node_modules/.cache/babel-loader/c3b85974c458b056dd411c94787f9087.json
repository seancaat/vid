{"remainingRequest":"/Users/catangui/Documents/GitHub/vid/node_modules/babel-loader/lib/index.js!/Users/catangui/Documents/GitHub/vid/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/catangui/Documents/GitHub/vid/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/catangui/Documents/GitHub/vid/src/components/Modal.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/catangui/Documents/GitHub/vid/src/components/Modal.vue","mtime":1613513801542},{"path":"/Users/catangui/Documents/GitHub/vid/node_modules/cache-loader/dist/cjs.js","mtime":1607551081144},{"path":"/Users/catangui/Documents/GitHub/vid/node_modules/babel-loader/lib/index.js","mtime":1607551081139},{"path":"/Users/catangui/Documents/GitHub/vid/node_modules/cache-loader/dist/cjs.js","mtime":1607551081144},{"path":"/Users/catangui/Documents/GitHub/vid/node_modules/vue-loader/lib/index.js","mtime":1607551087951}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEFpcnRhYmxlIGZyb20gImFpcnRhYmxlIjsKY29uc3QgYmFzZSA9IG5ldyBBaXJ0YWJsZSh7CiAgYXBpS2V5OiBwcm9jZXNzLmVudi5WVUVfQVBQX0FJUlRBQkxFX0FQSV9LRVkKfSkuYmFzZShwcm9jZXNzLmVudi5WVUVfQVBQX0FJUlRBQkxFX0JBU0UpOwpleHBvcnQgZGVmYXVsdCB7CiAgbWV0aG9kczogewogICAgYWRkUGVyc3BlY3RpdmUoKSB7CiAgICAgIGNvbnN0IGNoZWNrZWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPSJpbml0aWFsT3BpbmlvbiJdOmNoZWNrZWQnKTsKICAgICAgY29uc3QgdGV4dENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZXh0YXJlYScpLnZhbHVlOwoKICAgICAgaWYgKCFjaGVja2VkQnV0dG9uICYmICF0ZXh0Q29udGVudCkgewogICAgICAgIC8vIE5vdGhpbmcgaGFzIGJlZW4gY2hlY2tlZCBvciBmaWxsZWQuIFNob3cgZXJyb3Igc3RhdGUKICAgICAgICB0aGlzLmhhc0Vycm9yID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBkYXRhID0ge307CgogICAgICAgIGlmICh0ZXh0Q29udGVudCkgewogICAgICAgICAgZGF0YVsiUG9wVXAyIl0gPSB0ZXh0Q29udGVudDsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5wb3BVcDIgPSBkYXRhWyJQb3BVcDIiXTsKICAgICAgICB9CgogICAgICAgIGlmIChjaGVja2VkQnV0dG9uKSB7CiAgICAgICAgICBkYXRhWyJQb3BVcDEiXSA9IGNoZWNrZWRCdXR0b24udmFsdWU7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucG9wVXAxID0gZGF0YVsiUG9wVXAxIl07CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICB0aGlzLnN1Ym1pdChkYXRhKTsKICAgICAgfQoKICAgICAgdGhpcy4kZW1pdCgiY2xvc2UiLCB0cnVlKTsKICAgIH0sCgogICAgc3VibWl0KGRhdGEpIHsKICAgICAgYmFzZSgnU3VydmV5IFJlc3VsdHMnKS5jcmVhdGUoW3sKICAgICAgICAiZmllbGRzIjogewogICAgICAgICAgIlN1Ym1pc3Npb24gSUQiOiBEYXRlLm5vdygpLAogICAgICAgICAgLi4uZGF0YQogICAgICAgIH0KICAgICAgfV0sIGZ1bmN0aW9uIChlcnIsIHJlY29yZHMpIHsKICAgICAgICBpZiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICByZWNvcmRzLmZvckVhY2goZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgICAgY29uc29sZS5sb2cocmVjb3JkLmdldElkKCkpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCgogICAgY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNsb3NlIiwgdHJ1ZSk7CiAgICB9CgogIH0sCiAgcHJvcHM6IFsndGl0bGUnXSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhhc0Vycm9yOiBmYWxzZQogICAgfTsKICB9Cgp9Ow=="},{"version":3,"sources":["Modal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,OAAA,QAAA,MAAA,UAAA;AAEA,MAAA,IAAA,GAAA,IAAA,QAAA,CACA;AACA,EAAA,MAAA,EAAA,OAAA,CAAA,GAAA,CAAA;AADA,CADA,EAIA,IAJA,CAIA,OAAA,CAAA,GAAA,CAAA,qBAJA,CAAA;AAMA,eAAA;AACA,EAAA,OAAA,EAAA;AACA,IAAA,cAAA,GAAA;AACA,YAAA,aAAA,GAAA,QAAA,CAAA,aAAA,CAAA,sCAAA,CAAA;AACA,YAAA,WAAA,GAAA,QAAA,CAAA,aAAA,CAAA,UAAA,EAAA,KAAA;;AACA,UAAA,CAAA,aAAA,IAAA,CAAA,WAAA,EAAA;AACA;AACA,aAAA,QAAA,GAAA,IAAA;AACA,OAHA,MAIA;AACA,cAAA,IAAA,GAAA,EAAA;;AACA,YAAA,WAAA,EAAA;AACA,UAAA,IAAA,CAAA,QAAA,CAAA,GAAA,WAAA;AACA,UAAA,YAAA,CAAA,MAAA,GAAA,IAAA,CAAA,QAAA,CAAA;AACA;;AACA,YAAA,aAAA,EAAA;AACA,UAAA,IAAA,CAAA,QAAA,CAAA,GAAA,aAAA,CAAA,KAAA;AACA,UAAA,YAAA,CAAA,MAAA,GAAA,IAAA,CAAA,QAAA,CAAA;AACA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,aAAA,MAAA,CAAA,IAAA;AACA;;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,IAAA;AACA,KAtBA;;AAuBA,IAAA,MAAA,CAAA,IAAA,EAAA;AACA,MAAA,IAAA,CAAA,gBAAA,CAAA,CAAA,MAAA,CAAA,CACA;AACA,kBAAA;AACA,2BAAA,IAAA,CAAA,GAAA,EADA;AAEA,aAAA;AAFA;AADA,OADA,CAAA,EAOA,UAAA,GAAA,EAAA,OAAA,EAAA;AACA,YAAA,GAAA,EAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,GAAA;AACA;AACA;;AACA,QAAA,OAAA,CAAA,OAAA,CAAA,UAAA,MAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,KAAA,EAAA;AACA,SAFA;AAGA,OAfA;AAgBA,KAxCA;;AAyCA,IAAA,KAAA,GAAA;AACA,WAAA,KAAA,CAAA,OAAA,EAAA,IAAA;AACA;;AA3CA,GADA;AA8CA,EAAA,KAAA,EAAA,CAAA,OAAA,CA9CA;;AA+CA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AADA,KAAA;AAGA;;AAnDA,CAAA","sourcesContent":["<template>\n<div class=\"container\">\n  <div class=\"overlay\"></div>\n  <div class=\"modal\">\n    <h2> {{ title }}</h2>\n    <p>Read our privacy policy <a href=\"#\">here</a></p>\n    <form action=\"\">\n      <p>Have you heard of ‘emotion recognition systems’?</p>\n      <div class=\"yn\">\n        <input type=\"radio\" name=\"initialOpinion\" value=\"Yes\">\n        <label>Yes</label>\n      </div>\n      <div class=\"yn\">\n        <input type=\"radio\" name=\"initialOpinion\" value=\"No\">\n        <label>No</label>\n      </div>\n        <p>\n          <label>What do you understand by the term ‘emotion recognition systems’?</label>\n          <textarea rows=\"5\" placeholder=\"Please explain.\"></textarea>\n        </p>\n    </form>\n    <div class=\"button-group\">\n      <button @click=\"close\">Skip</button>\n      <button @click=\"addPerspective\">Add my perspective</button>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport Airtable from \"airtable\";\n\nconst base = new Airtable(\n  {\n    apiKey: process.env.VUE_APP_AIRTABLE_API_KEY\n  }\n).base(process.env.VUE_APP_AIRTABLE_BASE);\n\nexport default {\n  methods: {\n    addPerspective() {\n      const checkedButton = document.querySelector('input[name=\"initialOpinion\"]:checked');\n      const textContent = document.querySelector('textarea').value;\n      if (!checkedButton && !textContent) {\n        // Nothing has been checked or filled. Show error state\n        this.hasError = true;\n      }\n      else {\n        const data = {};\n        if (textContent) {\n          data[\"PopUp2\"] = textContent;\n          localStorage.popUp2 = data[\"PopUp2\"];\n        }\n        if (checkedButton) {\n          data[\"PopUp1\"] = checkedButton.value;\n          localStorage.popUp1 = data[\"PopUp1\"];\n        }\n        console.log(data);\n        this.submit(data);\n      }\n      this.$emit(\"close\", true);\n    },\n    submit(data) {\n        base('Survey Results').create([\n        {\n          \"fields\": {\n            \"Submission ID\": Date.now(),\n            ...data\n          }\n        }\n      ], function(err, records) {\n        if (err) {\n          console.error(err);\n          return;\n        }\n        records.forEach(function (record) {\n          console.log(record.getId());\n        });\n      });\n    },\n    close() {\n      this.$emit(\"close\", true);\n    }\n  },\n  props: ['title'],\n  data() {\n    return {\n      hasError: false\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n.modal {\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  background: $yellow;\n  padding: 1em 2em 2em;\n  border-radius: $br-m;\n  border: 2px solid black;\n  z-index: 2;\n\n  h2 {\n    line-height: 1.5em;\n  }\n\n  a {\n    text-decoration: underline;\n  }\n\n  h3 {\n    text-align: left;\n    font-size: 12px;\n    line-height: 1.7em;\n  }\n\n  form {\n    text-align: left;\n\n    .yn {\n      display: inline-block;\n      margin-bottom: 2rem;\n      width: 40%;\n\n      input {\n        margin-right: 1em;\n\n        &:hover {\n          cursor: pointer;\n        }\n      }\n    }\n\n    p {\n      textarea {\n        display: block;\n        width: 100%;\n        border: 2px solid black;\n        background: $yellow;\n        margin-top: 1em;\n        padding: 0.75em 1em;\n        box-sizing: border-box;\n        font-family: inherit;\n        color: $gray-1;\n      }\n    }\n  }\n\n  div.button-group {\n    margin-top: 2em;\n    display: flex;\n    justify-content: center;\n\n    button {\n      margin-left: 1em;\n    }\n  }\n}\n\n.overlay {\n    position: fixed;\n    width: 100vw;\n    height: 100vh;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: #171717;\n    opacity: 0.95;\n    z-index: 2;\n}\n</style>"],"sourceRoot":"src/components"}]}